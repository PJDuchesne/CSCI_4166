<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Assignment</title>
        <script src="d3/d3.min.js"></script>
        <link rel="stylesheet" type="text/css" href="A.css">
    </head>
    <body style="width: 800px; font-family: Bebas-Neue">
        <div class="Holder_Section" style="height: 450px;">
            <div class="Back_Stuff">
                <div style="position: absolute; left: 35px; top: 40px;">
                    <img src = "images/image1.jpg" alt = "XBox">
                </div>
                <div style="position: absolute; left: 135px; top: 165px;">
                    <img src = "images/image2.jpg" alt = "Gameboy_1">
                </div>
                <div style="position: absolute; left: 650px; top: 115px;">
                    <img src = "images/image3.jpg" alt = "Tablet_Phone">
                </div>
            </div>
            <div class="Front_Stuff">
                <div style="position: absolute; top: 90px; width: 800px; font-size:45px; text-align: center;">
                    <span>VIDEO GAMES: AN INDUSTRY IN TRANSITION</span>
                </div>
                <div class = "line_star_line" style="position: absolute; width: 400px; height: 25px; left: 190px; top: 130px;">
                    <script type = "text/javascript">
                        var w = 400;
                        var h = 26;
                        var svg = d3.select("div.line_star_line").append("svg")
                            .attr("width", w)
                            .attr("height", h);

                        var lineL = [ { "x": 0, "y": h/2 }, { "x": w/2-15, "y": h/2} ];

                        var star =  [ { "x": 195, "y": 10 }, { "x": 198, "y": 11},
                                      { "x": 200, "y": 8  }, { "x": 202, "y": 11},
                                      { "x": 205, "y": 10 }, { "x": 203, "y": 14},
                                      { "x": 204, "y": 17 }, { "x": 200, "y": 15},
                                      { "x": 196, "y": 17 }, { "x": 197, "y": 14} ];

                        var lineR = [ { "x": w/2+15, "y": h/2 }, { "x": w, "y": h/2} ];

                        var linefunction = d3.line()
                                                 .x(function(d) { return d.x; })
                                                 .y(function(d) { return d.y; });

                        svg.append("path")
                            .attr("d", linefunction(lineL))
                            .attr("stroke", "black")
                            .attr("stroke-width", 2)
                            .attr("fill", "none");

                        svg.append("path")
                            .attr("d", linefunction(star))
                            .attr("stroke", "red")
                            .attr("stroke-width", 0)
                            .attr("fill", "red");

                        svg.append("path")
                            .attr("d", linefunction(lineR))
                            .attr("stroke", "black")
                            .attr("stroke-width", 2)
                            .attr("fill", "none");

                    </script>
                </div>
                <div style="position: absolute; top: 240px; left: 50px; width: 800px; font-size: 36px; text-align: left;">
                    <span><span style="color: red">PHYSICAL RETAIL SALES</span> OF COMPUTER AND VIDEO GAMES ARE</span>
                </div>
                <div style="position: absolute; top: 275px; left: 50px; width: 800px; font-size: 36px; text-align: left;">
                    <span>CURRENTLY ON THEIR <span style="color: red">LOWEST LEVEL</span> SINCE 2006.</span>
                </div>
                <div style="position: absolute; top: 375px; left: 50px; width: 800px; font-size: 36px; text-align: left;">
                    <span>U.S. COMPUTER AND VIDEO GAME SALES (PHYSICAL RETAIL)</span>
                </div>
                <div style="position: absolute; top: 410px; left: 50px; width: 800px; font-size: 28px; text-align: left;">
                    <span>in billion US dollars</span>
                </div>
            </div>
        </div>
        <div class="Holder_Section">
            <div class="Front_Stuff">
                <div style="position: absolute; left: 650px; top: 0px;">
                    <img src = "images/image4.jpg" alt = "Disks">
                </div>
            </div>
            <div class="Back_Stuff">

            <!--
            <img src = "images/image1.jpg" alt = "XBox">                       Done
            <img src = "images/image2.jpg" alt = "Gameboy_1">                  Done
            <img src = "images/image3.jpg" alt = "Tablet_Phone">               Done
            <img src = "images/image4.jpg" alt = "Disks">                      Done
            <img src = "images/image5.jpg" alt = "Wii">
            <img src = "images/image6.jpg" alt = "Laptop">
            <img src = "images/image7.jpg" alt = "Cellphone">
            <img src = "images/image8.jpg" alt = "Gameboy_2">
            <img src = "images/image9.jpg" alt = "Tablet">
            <img src = "images/image10.jpg" alt = "Snoot">
            <img src = "images/image11.jpg" alt = "Angry_Bird">
            <img src = "images/image12.jpg" alt = "Logo">
            -->

        <script type = "text/javascript">

            var data = [6.0, 6.9, 7.0, 7.3, 6.9, 7.3, 9.5, 11.8, 10.5, 10.1, 9.2];
    
            var margin = {top: 20, right: 20, bottom: 30, left:40};
            var w = 800 - margin.left - margin.right;
            var h = 500 - margin.top - margin.bottom;

            var x = d3.scaleBand()
                  .range([0, w])    
                  .padding(0.5);

            var y = d3.scaleLinear()
                  .range([h, 0]);

            var svg = d3.select("body").append("svg")
                .attr("width", w + margin.left + margin.right)
                .attr("height", h + margin.top + margin.bottom)
              .append("g")
                .attr("transform",
                      "translate(" + margin.left + "," + margin.top + ")");

            x.domain(data.map(function(d, i) { return i + 2001 }));
            y.domain([0, d3.max(data, function(d) { return d }) + 1]);

            svg.selectAll("line.horizontalGrid").data(y.ticks(6)).enter()
                .append("line")
                    .attr("class", "horizontalGrid")
                    .attr("x1", margin.left/4)
                    .attr("x2", w)
                    .attr("y1", function(d){ return y(d);})
                    .attr("y2", function(d){ return y(d);})
                    .attr("stroke", "grey")
                    .attr("stroke-width", "2px");

            svg.selectAll("bar")
                .data(data)
              .enter()
              .append("rect")
                .style("fill", "red")
                .attr("class", "bar")
                .attr("x", function(d, i) { return x(i + 2001); })
                .attr("width", x.bandwidth())
                .attr("y", function(d) { return y(d); })
                .attr("height", function(d) { return h - y(d); });

            svg.append("g")
                .attr("class", "axisB")
                .attr("transform", "translate(0," + h + ")")
                .call(d3.axisBottom(x));

            svg.append("g")
                .attr("class", "axisL")
                .call(d3.axisLeft(y)
                   .ticks(6));

            var disk_img = d3.select("body").append("svg:image")
              .attr("xlink:href", "images/image4.jpg")
              .attr("x", 650)
              .attr("y", 150);
       
        </script>
        </div>
        </div>
        <div class="Holder_Section" style="height: 250px">
            <div style="position: absolute; top: 50px; left: 50px; font-size: 36px; text-align: left;">
                <span><span style="color: red">PHYSICAL SALES </span>STILL MAKE UP <span style="color:red">THE LION'S SHARE</span> OF GAMING</span>
            </div>
            <div style="position: absolute; top: 85px; left: 50px; font-size: 36px; text-align: left;">
                <span>SOFTWARE REVENUE, BUT <span style="color: red">DIGITAL DELIVERY</span> IS BECOMING</span>
            </div>
            <div style="position: absolute; top: 120px; left: 50px; font-size: 36px; text-align: left;">
                <span style="color: red">INCREASINGLY IMPORTANT.</span>
            </div>
            <div style="position: absolute; top: 200px; left: 50px; font-size: 36px; text-align: left;">
                <span>DIGITAL VS. PHYSICAL SALES</span>
            </div>
            <div style="position: absolute; top: 230px; left: 50px; font-size: 24px; text-align: left;">
                <span>in %</span>
            </div>
            <div style="position: absolute; top: 222px; left: 372px; font-size: 24px; text-align: left; white-space: pre">
                <span>Physical Format                Digital Format*</span>
            </div>
        </div>
        <script type = "text/javascript">
           
            // Years are 2009, 2010, and 2011 respectively 
            var dataset = [80, 72, 69];

            var margin = {top: 30, right: 20, bottom: 20, left:97};
            var w = 800 - margin.left - margin.right;
            var h = 200 - margin.top - margin.bottom;

            var svg = d3.select("body").append("svg")
                .attr("width", w + margin.left + margin.right)
                .attr("height", h + margin.top + margin.bottom)
              .append("g")
                .attr("transform",
                      "translate(" + margin.left + "," + margin.top + ")");

            var color_data = ["ff0000", "000000"]

            svg.selectAll("bar.colored").data(color_data).enter()
              .append("rect")
                .style("fill", function(d) { return "#" + d; })
                .attr("class", "bar.colored")
                .attr("x", function(d, i) { return 470 + 30*i; })
                .attr("width", 20)
                .attr("y", -30)
                .attr("height", 20)

            var x = d3.scaleLinear()
                  .range([w, 0]);

            var y = d3.scaleBand()
                  .range([0, h*4])    
                  .padding(0.35);

            x.domain([0, 100]);
            y.domain(data.map(function(d, i) { return i + 2009 }));

            var barL = svg.selectAll("bar.left").data(dataset).enter()
              .append("rect")
                .style("fill", "red")
                .attr("class", "bar.left")
                .attr("x", 0)
                .attr("width", function(d) { return w - x(d); })
                .attr("y", function(d, i) { return y(i + 2009); })
                .attr("height", y.bandwidth());

            svg.selectAll("bar.left").data(dataset).enter()
              .append("text")
                .attr("x", 10)
                .attr("y", function(d, i) { return y(i + 2009) + y.bandwidth()/2 + 7; })
                .style("fill", "white")
                .style("font-size", "24px")
                .text(function(d) { return d; });

            svg.selectAll("bar.right").data(dataset).enter()
              .append("rect")
                .style("fill", "black")
                .attr("class", "bar.right")
                .attr("x", function(d) { return w - x(d); })
                .attr("width", function(d) { return x(d); })
                .attr("y", function(d, i) { return y(i + 2009); })
                .attr("height", y.bandwidth()); 

            svg.selectAll("bar.right").data(dataset).enter()
              .append("text")
                .attr("x", w-30)
                .attr("y", function(d, i) { return y(i + 2009) + y.bandwidth()/2 + 7; })
                .style("fill", "white")
                .style("font-size", "24px")
                .text(function(d) { return 100 - d; });

            svg.append("g")
                .attr("class", "axisL")
                .call(d3.axisLeft(y)
                   .ticks(3));

        </script>
        <div class="Holder_Section" style="height: 300px">
            <div style="position: absolute; top: 5px; left: 50px; font-size: 24px; text-align: left;">
                <span>* includes subscriptions, digital full games, add-on content, mobile apps and social net</span>
            </div>
            <div style="position: absolute; top: 25px; left: 50px; font-size: 24px; text-align: left;">
                <span>work gaming</span>
            </div>
            <div style="position: absolute; top: 85px; left: 50px; font-size: 36px; text-align: left;">
                <span>FOR NOW, <span style="color: red">CONESOLES REMAIN THE MOST POPULAR </span>GAMING</span>
            </div>
            <div style="position: absolute; top: 120px; left: 50px; font-size: 36px; text-align: left;">
                <span>DEVICES IN THE U.S.</span>
            </div>
            <div style="position: absolute; top: 210px; left: 50px; font-size: 36px; text-align: left;">
                <span>U.S. HOUSEHOLDS THAT OWN AT LEAST ONE OF THE FOLLOWING</span>
            </div>
            <div style="position: absolute; top: 245px; left: 50px; font-size: 36px; text-align: left;">
                <span>DEVICES PLAY ON THEIR...</span>
            </div>
            <div style="position: absolute; top: 275px; left: 50px; font-size: 24px; text-align: left;">
                <span>in %</span>
            </div>
        </div>
        <div class="Holder_Section" style="height: 200px">
            <div class="Front_Stuff" style="height: 200px">
                <div style="position: absolute; left: 76px;  top: 63px">
                    <img src = "images/image5.jpg" alt = "Wii">
                </div>
                <div style="position: absolute; left: 232px; top: 55px;">
                    <img src = "images/image6.jpg" alt = "Laptop">
                </div>
                <div style="position: absolute; left: 395px; top: 55px;">
                    <img src = "images/image7.jpg" alt = "Cellphone">
                </div>
                <div style="position: absolute; left: 530px; top: 70px;">
                    <img src = "images/image8.jpg" alt = "Gameboy_2">
                </div>
                <div style="position: absolute; left: 663px; top: 45px;">
                    <img src = "images/image9.jpg" alt = "Tablet">
                </div>
            </div>
            <div class="Semi_Circles">
                <script type = "text/javascript">
                    var margin = {top: 20, right: 20, bottom: 20, left:97};
                    var w = 800 - margin.left - margin.right;
                    var h = 200 - margin.top - margin.bottom;

                    var svg = d3.select("div.Semi_Circles").append("svg")
                        .attr("width", w + margin.left + margin.right)
                        .attr("height", h + margin.top + margin.bottom)
                          .append("g")
                            .attr("transform",
                                  "translate(" + margin.left + "," + margin.top + ")");
            
                    var dataset = [70, 65, 38, 35, 26];

                    tau = 2*Math.PI;

                    var myArc = d3.arc()
                        .innerRadius(55)
                        .outerRadius(70)
                        .endAngle(-0.5*tau);

                    svg.selectAll("path.myArc").data(dataset).enter()
                      .append("path")
                        .style("fill", "red")
                        .attr("class", "myArc")
                        .attr("d", function(d) { return myArc({startAngle: (d/100-0.5)*tau});} )
                        .attr("transform", function(d,i) { return "translate(" + (20+i*(160-3*i)) + ", 80)";}); // Should move it to the right

                </script>
            </div>
        </div>
    </body>
</html>
